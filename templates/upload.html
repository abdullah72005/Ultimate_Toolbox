{% extends "layout.html" %}

{% block title %}
Conversion
{% endblock %}


{% block nav %}

<a id="navitem" class="nav-link" href="/">Home</a>
<a id="navitem" class="nav-link active" aria-current="page" href="/upload">File Converter</a>
<a id="navitem" class="nav-link" href="/yt-to-mp3">Youtube Converter</a>
<a id="navitem" class="nav-link" href="#">Photo Editor</a>
<a id="navitem" class="nav-link" href="/translation">Translator</a>
<a id="navitem" class="nav-link" href="/qrcode">QRcode Generator</a>
<a id="navitem" class="nav-link" href="/password-generator">Password Generator</a>

{% endblock %}


{% block main %}
    <div class="dragpage">
        <form action="/upload" method="post" enctype="multipart/form-data">
                <label for="file" id="drop-area">
                    <input type="file" name="file" class="form-control" id="file" accept=".bmp, .gif, .ico, .jpeg, .jpg, .pcx, .png, .ppm, .psd, .tiff, .webp, .jpg, .docx, .pdf, .wav, .mp3, .ogg, .aac, .wma, .opus, .m4a, .ac3, .amr, .csv, .json, .xlsx, .txt" required hidden>
                    <div id="img-view">
                        <div class="dragico"></div>
                        <div class="dragtxt">Drag and drop or click here to upload file</div>
                        
                    </div>
                </label>
            <!-- <button type="submit" class="btn btn-primary" name = "action" value = "upload">Upload</button> -->
        </form>
    </div>

    <script>
        const dropArea = document.getElementById("drop-area");
        const inputFile = document.getElementById("file");
        const imgV = document.getElementById("img-view");

        inputFile.addEventListener("change", uploadImage);


        function uploadImage(){
            this.form.submit();
        }


        dropArea.addEventListener("dragover", function(e){
            e.preventDefault();
            dropArea.style.opacity = "1";
        });

        dropArea.addEventListener("drop", function(e){
            e.preventDefault();
            inputFile.files = e.dataTransfer.files;
            inputFile.form.submit();
        });

        dropArea.addEventListener("dragleave", function(e){
            e.preventDefault();
            dropArea.style.opacity = "0.7";
        });



    </script>
{% endblock %}
